<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaterFlow</title>
    <link rel="icon" type="image/svg+xml" href="caterflow-white.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="delivery-styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-screen">
        <div class="login-container">
            <!-- Logo -->
            <div class="login-header">
                <img
                    alt="CaterFlow"
                    src="caterflow.svg"
                    class="login-logo"
                />
                <h2 class="login-brand">Cater Flow</h2>
                <h1 class="login-title">Sign in to your catering orders manager</h1>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="login-form">
                <div class="form-group">
                    <input 
                        id="username"
                        name="username"
                        type="text"                               
                        required
                        placeholder="Username"
                        class="form-input"
                    />
                </div>

                <div class="form-group">
                    <input
                        id="password"
                        name="password"
                        type="password"
                        required
                        placeholder="Password"
                        class="form-input"
                    />
                </div>

                <button type="button" id="login-btn" class="login-button">
                    Sign In
                </button>
            </form>

            <!-- Error Message -->
            <div id="login-error" class="login-error hidden">
                <span class="material-symbols-outlined error-icon">warning</span>
                <span id="error-message"></span>
            </div>

            <!-- Demo Text -->
            <div class="login-demo-text">
                Demo: Use any email and password to login
            </div>
        </div>
    </div>

    <!-- Dashboard Screen (Management) -->
    <div id="dashboard-screen" class="dashboard flex justify-center hidden">
        <!-- Header -->
        <div class="dashboard-nav-header">
            <div class="dashboard-nav-title">
                <div class="dashboard-logo">
                    <img id="caterflow-logo" src="caterflow-white.svg" alt="CaterFlow logo">
                </div>
                <div id="dashboard-title">Catering Orders Manager</div>
            </div>
            <div class="hamburger-menu">
                <button class="menu__btn" id="menu__toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                    <span></span>
                </button>
                <div class="menu__overlay" id="menu__overlay"></div>
                <div class="menu__box" role="navigation" aria-label="Main navigation">
                    <div class="dashboard-menu-box-header">
                        <div class="dashboard-menu-box-logo">
                            <img id="caterflow-logo" src="caterflow.svg" alt="CaterFlow logo">
                        </div>
                        <div>CATERFLOW</div>
                    </div>
                    <div class="dashboard-menu-box-user dashboard-menu-grid">
                        <span class="material-symbols-outlined">person</span>
                        <div class="dashboard-name" id="user-greeting">Hello, User</div>
                    </div>
                    <div class="menu__item">
                        <button class="dashboard-menu-grid menu__button" onclick="goToToday()">
                            <span class="material-symbols-outlined">calendar_today</span>
                            <div>Today's Orders</div>
                        </button>
                    </div>
                    <div class="menu__item">
                        <button class="dashboard-menu-grid menu__button" onclick="window.open('index.html', '_blank')">
                            <span class="material-symbols-outlined">assignment</span>
                            <div>Admin</div>
                        </button>
                    </div>
                    <div class="menu__item">
                        <button class="dashboard-menu-grid menu__button" onclick="window.open('kitchen.html', '_blank')">
                            <span class="material-symbols-outlined">restaurant</span>
                            <div>Kitchen</div>
                        </button>
                    </div>
                    <div class="menu__item" style="padding: 12px 16px; color: #6b7280; font-size: 12px; display: flex; align-items: center; gap: 8px;">
                        <span class="material-symbols-outlined" style="font-size: 18px;">info</span>
                        <div>Admin and Kitchen button added for demo purposes</div>
                    </div>
                    <div class="menu__item">
                        <button id="logout-btn" class="dashboard-menu-grid menu__button">
                            <span class="material-symbols-outlined">logout</span>
                            <div>Log out</div>
                        </button>
                    </div>
                </div>
            </div>
        </div>


        <!-- Main Dashboard Content -->
        <div class="dashboard-home">
            <!-- Calendar Section -->
            <div class="calendar-month-view">
                <!-- Calendar Navigation -->
                <div class="calendar-nav">
                    <button class="arrowButton" id="prev-month">
                        <span class="material-symbols-outlined">arrow_back_ios</span>
                    </button>
                    <div></div>
                    <div></div>
                    <button class="month-year" id="current-month">January</button>
                    <div></div>
                    <div></div>
                    <button class="arrowButton" id="next-month">
                        <span class="material-symbols-outlined">arrow_forward_ios</span>
                    </button>
                </div>

                <!-- Calendar Grid -->
                <div class="calendar" id="calendar">
                    <!-- Calendar will be generated by JavaScript -->
                </div>
            </div>

            <!-- Upcoming Orders Section -->
            <div id="upcoming-orders-section">
                <h3 class="upcoming-orders-title">Upcoming Orders</h3>
                <div id="upcoming-orders-list" class="past-orders-list">
                    <!-- Upcoming orders will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Order Details Screen -->
    <div id="order-details-screen" class="dashboard flex justify-center hidden">
        <!-- Header -->
        <div class="dashboard-nav-header">
            <div class="dashboard-nav-title">
                <div class="dashboard-logo">
                    <img id="caterflow-logo" src="caterflow-white.svg" alt="CaterFlow logo">
                </div>
                <div id="order-details-title">Order Details</div>
            </div>
            <div class="hamburger-menu">
                <button class="back-button" onclick="goBackToCalendar()" aria-label="Go back">
                    <span class="material-symbols-outlined">arrow_back</span>
                </button>
            </div>
        </div>

        <!-- Order Details Content -->
        <div class="dashboard-home">
            <!-- Week View Navigation -->
            <div id="week-view-nav" class="week-view-nav">
                <div class="week-view-nav-days">
                    <div></div>
                    <div class="week-view-nav-days2">
                        <div class="day-name">S</div>
                        <div class="day-name">M</div>
                        <div class="day-name">T</div>
                        <div class="day-name">W</div>
                        <div class="day-name">T</div>
                        <div class="day-name">F</div>
                        <div class="day-name">S</div>
                    </div>
                    <div></div>
                </div>
                <div class="week-view-nav-buttons">
                    <button class="arrowButton" id="prev-week-btn">
                        <span class="material-symbols-outlined">arrow_back_ios</span>
                    </button>
                    <div class="week-dates" id="week-dates">
                        <!-- Week dates will be populated by JavaScript -->
                    </div>
                    <button class="arrowButton" id="next-week-btn">
                        <span class="material-symbols-outlined">arrow_forward_ios</span>
                    </button>
                </div>
            </div>
            
            <!-- Status Filter -->
            <div id="status-filter" class="status-filter" style="display: flex; gap: 8px; padding: 0px 16px 0px 16px; flex-wrap: wrap; justify-content: center;">
                <button class="status-filter-btn active" onclick="filterOrdersByStatus('all')" data-status="all">
                    All <span class="status-count" id="count-all">0</span>
                </button>
                <button class="status-filter-btn" onclick="filterOrdersByStatus('Received')" data-status="Received">
                    Received <span class="status-count" id="count-Received">0</span>
                </button>
                <button class="status-filter-btn" onclick="filterOrdersByStatus('In Progress')" data-status="In Progress">
                    In Progress <span class="status-count" id="count-In Progress">0</span>
                </button>
                <button class="status-filter-btn" onclick="filterOrdersByStatus('Completed')" data-status="Completed">
                    Completed <span class="status-count" id="count-Completed">0</span>
                </button>
                <button class="status-filter-btn" onclick="filterOrdersByStatus('Pending')" data-status="Pending">
                    <span class="material-symbols-outlined" id="pending-bell-icon" style="font-size: 16px; margin-right: 4px; display: flex; align-items: center;">notifications</span>
                    Pending <span class="status-count" id="count-Pending">0</span>
                </button>
            </div>
            <div id="order-details-content" class="past-orders-list">
                <!-- Orders will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Add Order Modal -->
    <div id="add-order-modal" class="order-form-bg hidden">
        <div class="order-form-container">
            <div class="order-form-header">
                <button class="order-form-exit" id="close-modal" onclick="hideAddOrderModal()">
                    <span class="material-symbols-outlined">close</span>
                </button>
                <h2 class="order-form-title">Add New Order</h2>
            </div>
            <div class="order-form-content">
                <form id="add-order-form">
                    <div class="form-section">
                        <h3 class="section-title">Customer Information</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Customer Name *</label>
                                <input id="customer-name" name="customerName" type="text" class="form-input" placeholder="Enter customer name" required />
                            </div>
                                <div class="form-group">
                                    <label class="form-label">Phone Number *</label>
                                    <input id="contact" name="contact" type="text" class="form-input" placeholder="Enter phone number" required />
                                </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="section-title">Order Details</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Date *</label>
                                <input id="order-date" name="orderDate" type="date" class="form-input" required />
                            </div>
                            <div class="form-group">
                                <label class="form-label">Time *</label>
                                <input id="order-time" name="orderTime" type="time" class="form-input" required />
                            </div>
                            <div class="form-group">
                                <label class="form-label">Delivery Mode *</label>
                                <select id="delivery-mode" name="deliveryMode" required class="form-input" onchange="toggleDeliveryAddress()">
                                    <option value="">Select mode</option>
                                    <option value="Pickup">Pickup</option>
                                    <option value="Delivery">Delivery</option>
                                </select>
                            </div>
                            <div class="form-group full-width" id="address-group" style="display: none;">
                                <label class="form-label">Delivery Address</label>
                                <input id="delivery-address" name="deliveryAddress" type="text" class="form-input" placeholder="Enter delivery address" />
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="section-title">Order Items</h3>
                        <div class="form-group">
                            <div class="add-item-form">
                                <input id="item-name" type="text" class="form-input" placeholder="Item name" />
                                <input id="item-quantity" type="number" class="form-input" placeholder="Qty" min="1" max="500" />
                                <button type="button" class="add-item-btn" id="add-item-btn" onclick="addItemToList()">
                                    <span class="material-symbols-outlined">add</span>
                                    Add Item
                                </button>
                            </div>
                                <div id="order-items-list" class="items-list">
                                    <!-- Items will be added here -->
                                </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <h3 class="section-title">Additional Information</h3>
                        <div class="form-group">
                            <label class="form-label">Notes</label>
                            <textarea id="notes" name="notes" class="form-input" placeholder="Any special instructions or notes" rows="3"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="order-form-footer">
                    <button type="button" class="btn-primary" id="save-order-btn">Add Order</button>
            </div>
        </div>
    </div>

    <!-- Confirm Delete Modal -->
    <div id="confirm-delete-modal" class="order-confirm-delete-bg hidden">
        <div class="order-confirm-delete-box">
            <button class="order-confirm-delete-box-close" id="close-delete-modal">x</button>
            <div class="order-confirm-delete-box-message">
                Are you sure you want to delete this order?
            </div>
            <div class="order-confirm-delete-box-buttons">
                <button class="order-confirm-delete-box-no" id="cancel-delete">No</button>
                <button class="order-confirm-delete-box-yes" id="confirm-delete">Yes</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast-notification" class="toast-notification">
        <span class="material-symbols-outlined toast-checkmark">check</span>
        <span id="toast-message"></span>
    </div>

    <script src="delivery-scripts.js"></script>
</body>
</html>